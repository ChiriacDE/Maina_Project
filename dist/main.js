(()=>{"use strict";class t{constructor(t){this.options=t,this.nav=document.querySelector(this.options.nav),this.state=this.options.state,this.heightActivateState=this.options.heightActivateState,this._startToggleState()}_startToggleState(){$(window).on("scroll",(()=>{const t=window.pageYOffset||document.documentElement.scrollTop,e=this.nav.classList;t>this.heightActivateState?e.contains(this.state)||e.add(this.state):e.contains(this.state)&&e.remove(this.state)}))}}class e{constructor(t){this.nav=t.nav,this.topPosition=t.topPosition,this.animationTime=t.animationTime,this._scrollToEventsListener()}_scrollToEventsListener(){document.querySelectorAll(`${this.nav} a[href^="#"]`).forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault();const n=document.querySelector(t.getAttribute("href"));if(!n)return;const i=n.getBoundingClientRect().top+window.pageYOffset+this.topPosition,o=this.animationTime,r=performance.now();requestAnimationFrame((function t(){const e=performance.now()-r,n=Math.min(e/o,1),s=function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}(n),a=i-window.pageYOffset;window.scrollTo(0,window.pageYOffset+a*s),n<1&&requestAnimationFrame(t)}))}))}));const t=document.querySelector(".logo");t&&t.addEventListener("click",(t=>{t.preventDefault();const e=this.animationTime,n=performance.now(),i=window.pageYOffset;requestAnimationFrame((function t(){const o=performance.now()-n,r=Math.min(o/e,1),s=function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}(r);window.scrollTo(0,i*(1-s)),r<1&&requestAnimationFrame(t)}))}))}}function n(){const t=document.querySelector("body");window.innerWidth<861?t.classList.add("mobile-view"):t.classList.remove("mobile-view")}function i(){let t;return t=document.querySelector("body").classList.contains("home")?"#header":"../../index.html",t}class o{constructor(t){this.state=t.state,this.nav=t.nav,this.checkpoint=t.checkpoint,this.navContent=`${t.nav} *`,this.tuggleBtn=t.tuggleBtn,this.tuggleBtnContent=`${t.tuggleBtn} *`,this.navLink=t.navLink,this.navLinkContent=`${t.navLink} *`,this.$nav=$(this.nav),this._eddClickEvents(),this._addResizeEvent(),this._addClickOutsideEvent()}_addResizeEvent(){window.addEventListener("resize",(()=>{window.innerWidth>this.checkpoint&&this._cleare()}))}_eddClickEvents(){document.addEventListener("click",(t=>{if(!(window.innerWidth>this.checkpoint))if($(t.target).is(`${this.tuggleBtn}, ${this.tuggleBtnContent}`))this._toggleNav(!0);else if($(t.target).is(`${this.navLink}, ${this.navLinkContent}`))this._toggleNav(!1);else if($(t.target).is(`${this.nav}, ${this.navContent}`))return}))}_addClickOutsideEvent(){document.addEventListener("click",(t=>{if(this.$nav.hasClass(this.state)&&window.innerWidth<=this.checkpoint){const e=!$(t.target).closest(this.nav).length,n=$(t.target).is(`${this.navLink}, ${this.navLinkContent}`),i=$(t.target).is(`${this.tuggleBtn}, ${this.tuggleBtnContent}`);!e||n||i||this._toggleNav()}}))}_cleare(){this._toggleNav(!1)}_toggleNav(t){(t||this.$nav.hasClass(this.state))&&this.$nav.toggleClass(this.state)}}var r;console.log("I work as manager!"),window.addEventListener("resize",n),n(),window.onload=function(){new o({nav:".main-nav",tuggleBtn:".tuggle-btn",tuggleContent:".tuggle-content",navLink:".nav-link",state:"open",checkpoint:860}),new t({nav:".main-nav",state:"active",heightActivateState:15}),new e({nav:".main-nav",topPosition:0,animationTime:500}),function(){const t=document.querySelectorAll(".nav-link"),e=document.querySelector("header"),n=document.querySelector("footer");window.addEventListener("scroll",(()=>{document.querySelectorAll("section").forEach((e=>{const n=e.getBoundingClientRect();if(n.top<=100&&n.bottom>=0){const n=e.getAttribute("id");t.forEach((t=>{t.classList.remove("active"),t.getAttribute("href")===`#${n}`&&t.classList.add("active")}))}}));const i=e.getBoundingClientRect(),o=n.getBoundingClientRect();(i.top<=0&&i.bottom>=100||o.top<=100&&o.bottom>=0||function(){const t=window.innerHeight,e=document.body,n=document.documentElement;if(Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)-(window.pageYOffset||n.scrollTop||e.scrollTop)-t<=0)return!0}())&&t.forEach((t=>{t.classList.remove("active")}))}))}()},document.querySelector(".nav-link.logo").href=i(),document.querySelector(".footer-logo-link").href=i(),document.querySelectorAll(".flying-button").forEach((t=>{let e=e=>getComputedStyle(t).getPropertyValue(e),n=document.querySelector("#newsletter__email-input"),i=document.querySelector("#newsletter__name-input");t.addEventListener("click",(o=>{o.preventDefault(),function(t,e){var n,i=0;switch(i+=(t.value.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?0:-1)+(e.value.match(/^[A-Za-z]+([A-Za-z\s]*)$/)?0:-2)){case 0:return!0;case-1:n=new ErrorBox("Indrouce por favor una dirección de correo válida!","Un correo válido debe tener un principio alfanumérico, debe contener una @, etc.");break;case-2:n=new ErrorBox("Indrouce por favor un nombre válido!","Introduce por favor únicamente letras mayúsculas y minúsculas, sin números, carácteres especials o guiones.");break;case-3:n=new ErrorBox("Introduce por favor un nombre y dirección de correo válidos!","Introduce por favor únicamente letras mayúsculas y minúsculas, sin números, carácteres especials o guiones y un correo electrónico con un principio alfanumérico, que contenga una @, un dominio, etc.")}return!n||(n.render(),!1)}(n,i)&&(t.classList.contains("active")||(t.classList.add("active"),gsap.to(t,{keyframes:[{"--left-wing-first-x":50,"--left-wing-first-y":100,"--right-wing-second-x":50,"--right-wing-second-y":100,duration:.2,onComplete(){gsap.set(t,{"--left-wing-first-y":0,"--left-wing-second-x":40,"--left-wing-second-y":100,"--left-wing-third-x":0,"--left-wing-third-y":100,"--left-body-third-x":40,"--right-wing-first-x":50,"--right-wing-first-y":0,"--right-wing-second-x":60,"--right-wing-second-y":100,"--right-wing-third-x":100,"--right-wing-third-y":100,"--right-body-third-x":60})}},{"--left-wing-third-x":20,"--left-wing-third-y":90,"--left-wing-second-y":90,"--left-body-third-y":90,"--right-wing-third-x":80,"--right-wing-third-y":90,"--right-body-third-y":90,"--right-wing-second-y":90,duration:.2},{"--rotate":50,"--left-wing-third-y":95,"--left-wing-third-x":27,"--right-body-third-x":45,"--right-wing-second-x":45,"--right-wing-third-x":60,"--right-wing-third-y":83,duration:.25},{"--rotate":55,"--plane-x":-8,"--plane-y":24,duration:.35},{"--rotate":40,"--plane-x":105,"--plane-y":-210,"--plane-opacity":0,duration:.3,onComplete(){setTimeout((()=>{t.removeAttribute("style"),gsap.fromTo(t,{opacity:0,y:-8},{opacity:1,y:0,clearProps:!0,duration:.3,onComplete(){t.classList.remove("active")}})}),2e3)}}]}),gsap.to(t,{keyframes:[{"--text-opacity":0,"--border-radius":0,"--left-wing-background":e("--primary-darkest"),"--right-wing-background":e("--primary-darkest"),duration:.1},{"--left-wing-background":e("--primary"),"--right-wing-background":e("--primary"),duration:.1},{"--left-body-background":e("--primary-dark"),"--right-body-background":e("--primary-darkest"),duration:.4},{"--success-opacity":1,"--success-scale":1,duration:.25,delay:.5}]})))}))})),r=function(){const t=document.getElementsByTagName("section"),e=t[t.length-1];return window.getComputedStyle(e).getPropertyValue("background-color")}(),document.querySelector(".footer-wave-path").style.fill=r})();